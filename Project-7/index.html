<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Resume Studio</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap (for layout/utilities) -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Optional: PDF export libs (script handles if missing) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

    <!-- Your styles -->
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <!-- ============= AUTH SCREEN ============= -->
    <div id="authContainer" class="auth-wrapper">
      <div class="auth-card">
        <div>
          <div class="auth-pill">
            ‚ö° Schema-driven resume builder
          </div>
          <h1 class="auth-title">Craft a clean resume in minutes.</h1>
          <p class="auth-text">
            Sign up once (saved only in your browser via localStorage), then fill
            out the guided resume form with live preview & export.
          </p>
        </div>

        <div class="auth-form-box">
          <div class="auth-tabs">
            <button
              id="tabLogin"
              type="button"
              class="auth-tab-btn active"
            >
              Login
            </button>
            <button
              id="tabSignup"
              type="button"
              class="auth-tab-btn"
            >
              Sign up
            </button>
          </div>

          <!-- LOGIN -->
          <form id="loginForm">
            <div class="mb-2">
              <label class="form-label text-light" for="loginEmail">Email</label>
              <input id="loginEmail" type="email" class="form-control" required />
            </div>
            <div class="mb-3">
              <label class="form-label text-light" for="loginPassword">Password</label>
              <input id="loginPassword" type="password" class="form-control" required />
            </div>
            <button class="btn btn-info w-100 auth-submit" type="submit">
              Continue
            </button>
          </form>

          <!-- SIGNUP -->
          <form id="signupForm" class="d-none">
            <div class="mb-2">
              <label class="form-label text-light" for="signupName">Full name</label>
              <input id="signupName" type="text" class="form-control" required />
            </div>
            <div class="mb-2">
              <label class="form-label text-light" for="signupEmail">Email</label>
              <input id="signupEmail" type="email" class="form-control" required />
            </div>
            <div class="mb-3">
              <label class="form-label text-light" for="signupPassword">Password</label>
              <input id="signupPassword" type="password" class="form-control" required />
            </div>
            <button class="btn btn-info w-100 auth-submit" type="submit">
              Sign up &amp; continue
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- ============= MAIN APP ============= -->
    <div id="appContainer">
      <div class="app-shell">
        <!-- Header -->
        <header class="app-header">
          <div class="brand">
            <div class="brand-logo">CV</div>
            <div>
              <div class="brand-text-title">Resume Studio</div>
              <div class="brand-text-sub">Schema-driven ¬∑ Live preview</div>
            </div>
            <span class="chip">
              <span id="templateCount">0</span> templates ¬∑
              <span id="sectionCount">0</span> sections
            </span>
          </div>
          <div class="header-right">
            <button id="themeToggle" type="button" class="btn btn-outline-slate btn-sm">
              Dark mode
            </button>
            <div class="user-pill">
              <div id="userAvatar" class="user-avatar">U</div>
              <span id="userEmailLabel">user@example.com</span>
            </div>
            <button id="logoutBtn" type="button" class="btn btn-outline-slate btn-sm">
              Logout
            </button>
          </div>
        </header>

        <!-- Main layout -->
        <div class="app-main">
          <!-- LEFT: FORM -->
          <aside class="form-pane">
            <div class="d-flex justify-content-between align-items-center mb-1">
              <div>
                <div class="form-title-main">Resume form</div>
                <div class="metrics-small">
                  Fill in the sections ‚Äì live preview on the right.
                </div>
              </div>
              <div class="metrics-small">
                <span id="liveMeta">0/0 sections ready ¬∑ 0 fields filled</span>
              </div>
            </div>

            <div id="templatePills" class="mb-1"></div>
            <div id="sectionNav" class="mb-1"></div>

            <div class="form-scroll">
              <form id="resumeForm"></form>
            </div>

            <div class="form-footer">
              <small class="text-muted">
                Fields filled: <span id="fieldProgress">0</span>
              </small>
              <div class="d-flex gap-2">
                <button id="resetBtn" class="btn btn-outline-slate btn-sm" type="button">
                  Reset
                </button>
                <button id="downloadBtn" class="btn btn-info btn-sm text-dark fw-semibold" type="button">
                  Export PDF
                </button>
              </div>
            </div>
          </aside>

          <!-- RIGHT: PREVIEW -->
          <section class="preview-pane">
            <div class="preview-toolbar">
              <div class="metrics-small">
                üîç Live Preview
              </div>
              <div class="d-flex align-items-center gap-2">
                <div class="preview-bg-toggle">
                  <button
                    type="button"
                    class="preview-bg-btn active"
                    data-preview-bg="plain"
                  >
                    Plain
                  </button>
                  <button
                    type="button"
                    class="preview-bg-btn"
                    data-preview-bg="grid"
                  >
                    Grid
                  </button>
                  <button
                    type="button"
                    class="preview-bg-btn"
                    data-preview-bg="slate"
                  >
                    Glow
                  </button>
                </div>
                <select id="templateSelect" class="form-select form-select-sm">
                  <!-- filled by JS -->
                </select>
              </div>
            </div>

            <div class="preview-body">
              <div id="resumePreview" class="resume-preview"></div>
            </div>
          </section>
        </div>
      </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
  </body>
</html>
